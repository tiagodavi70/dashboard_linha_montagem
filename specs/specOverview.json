{
  "config": {
    "view": {
      "continuousWidth": 400,
      "continuousHeight": 300,
      "height": 100,
      "strokeWidth": 0,
      "width": 100
    },
    "axis": {"labelAngle": -45, "labelColor": "white", "titleColor": "white"},
    "background": "#122973",
    "header": {
      "labelColor": "#122973",
      "labelFontSize": 14,
      "titleColor": "#122973",
      "titleFontSize": 14
    },
    "legend": {
      "labelColor": "white",
      "padding": 1,
      "strokeColor": "white",
      "tickCount": 2,
      "titleColor": "white"
    }
  },
  "hconcat": [
    {
      "vconcat": [
        {
          "mark": {"type": "text", "fill": "white"},
          "encoding": {"size": {"value": 16}, "text": {"value": "Cycle Times"}}
        },
        {
          "layer": [
            {
              "mark": {"type": "circle", "fill": "red"},
              "encoding": {
                "size": {
                  "aggregate": "mean",
                  "field": "totalCycleTime",
                  "scale": {"range": [800, 8000]},
                  "type": "quantitative"
                },
                "text": {"value": "Cycle Times"}
              }
            },
            {
              "mark": {"type": "text", "fill": "white"},
              "encoding": {
                "text": {
                  "aggregate": "mean",
                  "field": "totalCycleTime",
                  "format": ".4",
                  "type": "quantitative"
                }
              }
            }
          ]
        }
      ]
    },
    {
      "vconcat": [
        {
          "mark": {"type": "text", "fill": "white"},
          "encoding": {"size": {"value": 16}, "text": {"value": "Bottleneck"}}
        },
        {
          "layer": [
            {
              "mark": {"type": "circle", "fill": "red"},
              "encoding": {
                "size": {
                  "aggregate": "mean",
                  "field": "partCount",
                  "scale": {"range": [800, 8000]},
                  "type": "quantitative"
                },
                "text": {"value": "Bottleneck"}
              }
            },
            {
              "mark": {"type": "text", "fill": "white"},
              "encoding": {
                "text": {
                  "aggregate": "mean",
                  "field": "partCount",
                  "format": ".4",
                  "type": "quantitative"
                }
              }
            }
          ]
        }
      ]
    },
    {
      "vconcat": [
        {
          "mark": {"type": "text", "fill": "white"},
          "encoding": {"size": {"value": 16}, "text": {"value": "KPIs"}}
        },
        {
          "layer": [
            {
              "mark": {"type": "circle", "fill": "red"},
              "encoding": {
                "size": {
                  "aggregate": "mean",
                  "field": "changeTime",
                  "scale": {"range": [800, 8000]},
                  "type": "quantitative"
                },
                "text": {"value": "KPIs"}
              }
            },
            {
              "mark": {"type": "text", "fill": "white"},
              "encoding": {
                "text": {
                  "aggregate": "mean",
                  "field": "changeTime",
                  "format": ".4",
                  "type": "quantitative"
                }
              }
            }
          ]
        }
      ]
    }
  ],
  "data": {
    "url": "https://raw.githubusercontent.com/tiagodavi70/dashboard_linha_montagem/main/simulation/CycleTimes.json"
  },
  "transform": [
    {
      "lookup": "station",
      "from": {
        "data": {
          "url": "https://raw.githubusercontent.com/tiagodavi70/dashboard_linha_montagem/main/simulation/KPI.json"
        },
        "key": "station",
        "fields": [
          "shiftIdentifier",
          "locationId",
          "validFrom",
          "validTo",
          "oee",
          "oeeSetpoint",
          "availability",
          "efficiency",
          "quality",
          "fpy",
          "fpySetPoint",
          "partCount",
          "partCountSetPoint",
          "countNIO",
          "productivity",
          "station"
        ]
      }
    }
  ],
  "$schema": "https://vega.github.io/schema/vega-lite/v4.17.0.json"
}